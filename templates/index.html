<!-- templates/index.html -->

<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ data.info.nom }} - Portfolio</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
</head>
<body class="min-h-screen bg-gray-50 text-gray-800 font-sans">
    <!-- Navigation -->
    <nav class="bg-white shadow-md fixed w-full z-10">
        <div class="max-w-6xl mx-auto px-4">
            <div class="flex justify-between items-center h-16">
                <div class="flex-shrink-0 font-bold text-xl text-blue-600">{{ data.info.nom }}</div>

                <!-- Desktop Navigation -->
                <div class="hidden md:block">
                    <div class="ml-10 flex items-center space-x-4">
                        <a href="#accueil" class="nav-link px-3 py-2 rounded-md text-sm font-medium text-gray-500 hover:text-blue-600">Accueil</a>
                        <a href="#apropos" class="nav-link px-3 py-2 rounded-md text-sm font-medium text-gray-500 hover:text-blue-600">À propos</a>
                        <a href="#projets" class="nav-link px-3 py-2 rounded-md text-sm font-medium text-gray-500 hover:text-blue-600">Projets</a>
                        <a href="#contact" class="nav-link px-3 py-2 rounded-md text-sm font-medium text-gray-500 hover:text-blue-600">Contact</a>
                        <a target="_blank" href="{{ url_for('download_cv') }}" class="ml-4 px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium flex items-center hover:bg-blue-700">
                            <i class="fas fa-download mr-2"></i> Télécharger CV
                        </a>
                    </div>
                </div>

                <!-- Mobile menu button -->
                <div class="md:hidden flex items-center">
                    <button id="mobile-menu-button" class="inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-blue-600 focus:outline-none">
                        <i class="fas fa-bars"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Mobile menu -->
        <div id="mobile-menu" class="hidden md:hidden bg-white shadow-lg">
            <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                <="#accueil" class="mobile-nav-link block px-3 py-2 rounded-md text-base font-medium w-full text-left text-gray-500 hover:bg-blue-50 hover:text-blue-600">Accueil</a>
                <="#apropos" class="mobile-nav-link block px-3 py-2 rounded-md text-base font-medium w-full text-left text-gray-500 hover:bg-blue-50 hover:text-blue-600">À propos</a>
                <="#projets" class="mobile-nav-link block px-3 py-2 rounded-md text-base font-medium w-full text-left text-gray-500 hover:bg-blue-50 hover:text-blue-600">Projets</a>
                <="#contact" class="mobile-nav-link block px-3 py-2 rounded-md text-base font-medium w-full text-left text-gray-500 hover:bg-blue-50 hover:text-blue-600">Contact</a>
                <="{{ url_for('download_cv') }}" class="w-full mt-4 px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium flex items-center justify-center hover:bg-blue-700">
                    <i class="fas fa-download mr-2"></i> Télécharger CV
                </a>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section id="accueil" class="pt-24 pb-20 px-4">
        <div class="max-w-6xl mx-auto flex flex-col-reverse md:flex-row items-center">
            <div class="md:w-3/5 mt-8 md:mt-0 md:pr-8">
                <h1 class="text-4xl md:text-5xl font-bold text-gray-800 mb-4">
                    <span class="block">Bonjour, je suis</span>
                    <span class="text-blue-600">{{ data.info.nom }}</span>
                </h1>
                <h2 class="text-xl md:text-2xl text-gray-600 mb-6">{{ data.info.titre }}</h2>
                <p class="text-gray-600 mb-8 text-lg">
                    {{ data.info.description }}
                </p>
                <div class="flex flex-wrap gap-4">
                    <="#projets" class="px-6 py-3 bg-blue-600 text-white rounded-md font-medium hover:bg-blue-700 transition">
                        Voir mes projets
                    </a>
                    <="#contact" class="px-6 py-3 border border-blue-600 text-blue-600 rounded-md font-medium hover:bg-blue-50 transition">
                        Me contacter
                    </a>
                </div>
            </div>
            <div class="md:w-2/5 flex justify-center">
                <div class="w-64 h-64 rounded-full bg-blue-100 flex items-center justify-center" alt="a">
                    <img src="\static\PP_R$_copie.jpg" class="w-full h-full rounded-full" alt="a">
                </div>
            </div>
        </div>
    </section>

    <!-- À propos -->
    <section id="apropos" class="py-20 bg-white px-4">
        <div class="max-w-6xl mx-auto">
            <h2 class="text-3xl font-bold text-center mb-12 text-gray-800">À propos de moi</h2>
            <div class="flex flex-col md:flex-row gap-8">
                <div class="md:w-1/3">
                    <div class="bg-blue-50 p-6 rounded-lg shadow-sm">
                        <h3 class="text-xl font-semibold mb-4 text-gray-800">Profil</h3>
                        <p class="text-gray-600 mb-4">
                            J'ai {{ data.info.age }} ans et je suis actuellement en première année de BUT Informatique, après avoir passé deux ans à l'EFREI Paris, une école d'ingénieurs à Villejuif.
                        </p>
                        <p class="text-gray-600">
                            Je suis à la recherche d'une alternance en tant que Data Analyst pour mettre en pratique mes compétences et approfondir mon expertise dans ce domaine.
                        </p>
                    </div>
                </div>

                <div class="md:w-1/3">
                    <div class="bg-blue-50 p-6 rounded-lg shadow-sm">
                        <h3 class="text-xl font-semibold mb-4 text-gray-800">Compétences</h3>
                        <ul class="text-gray-600 space-y-3">
                            {% for competence in data.info.competences %}
                            <li class="flex items-center">
                                <i class="fas fa-database mr-2 text-blue-600"></i>
                                <span>{{ competence }}</span>
                            </li>
                            {% endfor %}
                        </ul>
                    </div>
                </div>

                <div class="md:w-1/3">
                    <div class="bg-blue-50 p-6 rounded-lg shadow-sm">
                        <h3 class="text-xl font-semibold mb-4 text-gray-800">Formation</h3>
                        {% for formation in data.info.formation %}
                        <div class="{% if not loop.last %}mb-4{% endif %}">
                            <p class="font-medium">{{ formation.école }}</p>
                            <p class="text-gray-600 text-sm"> <b>formation</b> : {{ formation.formation }}</p>
                            <p class="text-gray-600 text-sm"> <b>lieu</b> : {{ formation.lieu }}</p>
                            <p class="text-gray-600 text-sm"><b>période</b> : {{ formation.periode }}</p>
                        </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Projets -->
    <section id="projets" class="py-20 bg-gray-50 px-4">
        <div class="max-w-6xl mx-auto">
            <h2 class="text-3xl font-bold text-center mb-12 text-gray-800">Mes Projets</h2>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                {% for projet in data.projets %}
                <div class="bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition">
                    <div class="bg-blue-600 h-3"></div>
                    <div class="p-6">
                        <h3 class="text-xl font-semibold mb-2">{{ projet.titre }}</h3>
                        <p class="text-gray-600 mb-4">
                            {{ projet.description }}
                        </p>
                        <div class="flex flex-wrap gap-2 mb-4">
                            {% for tech in projet.technologies %}
                            <span class="px-2 py-1 bg-blue-100 text-blue-800 rounded text-xs">{{ tech }}</span>
                            {% endfor %}
                        </div>
                        <a target="_blank" href="{{ projet.lien }}" class="text-blue-600 font-medium flex items-center hover:text-blue-700">
                            Voir le projet <i class="fas fa-external-link-alt ml-1"></i>
                        </a>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
    </section>

    <!-- Contact -->
    <section id="contact" class="py-20 bg-white px-4">
        <div class="max-w-6xl mx-auto">
            <h2 class="text-3xl font-bold text-center mb-12 text-gray-800">Contact</h2>

            <div class="flex flex-col md:flex-row gap-8">
                <div class="md:w-1/2">
                    <h3 class="text-xl font-semibold mb-6">Envoyez-moi un message</h3>
                    <form action="{{ url_for('contact') }}" method="POST" class="space-y-4">
                        <div>
                            <label for="name" class="block text-sm font-medium text-gray-700 mb-1">Nom</label>
                            <input
                                type="text"
                                id="name"
                                name="name"
                                required
                                class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"
                                placeholder="Votre nom"
                            >
                        </div>
                        <div>
                            <label for="email" class="block text-sm font-medium text-gray-700 mb-1">Email</label>
                            <input
                                type="email"
                                id="email"
                                name="email"
                                required
                                class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"
                                placeholder="votre.email@exemple.com"
                            >
                        </div>
                        <div>
                            <label for="message" class="block text-sm font-medium text-gray-700 mb-1">Message</label>
                            <textarea
                                id="message"
                                name="message"
                                rows="5"
                                required
                                class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"
                                placeholder="Votre message..."
                            ></textarea>
                        </div>
                        <button
                            type="submit"
                            class="w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition"
                        >
                            Envoyer
                        </button>
                    </form>
                </div>

                <div class="md:w-1/2 md:pl-8">
                    <h3 class="text-xl font-semibold mb-6">Informations de contact</h3>
                    <div class="space-y-4">
                        <div class="flex items-start">
                            <i class="fas fa-envelope mr-3 text-blue-600 mt-1"></i>
                            <div>
                                <p class="font-medium">Email</p>
                                <p class="text-gray-600">{{ data.info.email }}</p>
                            </div>
                        </div>

                        <div class="mt-8">
                            <p class="font-medium mb-4">Réseaux sociaux</p>
                            <div class="flex space-x-4">
                                <a target="_blank" href="{{ data.info.reseaux.linkedin }}" class="p-2 bg-blue-600 text-white rounded-full hover:bg-blue-700">
                                    <i class="fab fa-linkedin-in"></i>
                                </a>
                                <a target="_blank" href="{{ data.info.reseaux.github }}" class="p-2 bg-gray-800 text-white rounded-full hover:bg-black">
                                    <i class="fab fa-github"></i>
                                </a>
                            </div>
                        </div>

                        <div class="mt-8">
                            <a target="_blank" href="{{ url_for('download_cv') }}" class="flex items-center px-6 py-3 bg-blue-600 text-white rounded-md font-medium hover:bg-blue-700 transition">
                                <i class="fas fa-download mr-2"></i> Télécharger mon CV
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-8">
        <div class="max-w-6xl mx-auto px-4">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="mb-4 md:mb-0">
                    <span class="font-bold text-xl">{{ data.info.nom }}</span>
                    <p class="text-gray-400 mt-1">Développeur Informatique Indépendant</p>
                </div>

                <div class="flex space-x-4">
                    <a target="_blank" href="{{ data.info.reseaux.linkedin }}" class="text-gray-400 hover:text-white">
                        <i class="fab fa-linkedin-in"></i>
                    </a>
                    <a target="_blank" href="{{ data.info.reseaux.github }}" class="text-gray-400 hover:text-white">
                        <i class="fab fa-github"></i>
                    </a>
                    <a target="_blank" href="mailto:{{ data.info.email }}" class="text-gray-400 hover:text-white">
                        <i class="fas fa-envelope"></i>
                    </a>
                </div>
            </div>
            <div class="mt-8 text-center text-gray-400 text-sm">
                © {{ current_year }} {{ data.info.nom }}. Tous droits réservés.
            </div>
        </div>
    </footer>

    <!-- JavaScript pour rendre le menu mobile fonctionnel et ajouter d'autres interactions -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Menu mobile
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');

            mobileMenuButton.addEventListener('click', function() {
                mobileMenu.classList.toggle('hidden');
                // Change l'icône du menu
                const menuIcon = mobileMenuButton.querySelector('i');
                if (menuIcon.classList.contains('fa-bars')) {
                    menuIcon.classList.remove('fa-bars');
                    menuIcon.classList.add('fa-times');
                } else {
                    menuIcon.classList.remove('fa-times');
                    menuIcon.classList.add('fa-bars');
                }
            });

            // Gérer la navigation mobile
            const mobileNavLinks = document.querySelectorAll('.mobile-nav-link');
            mobileNavLinks.forEach(link => {
                link.addEventListener('click', function() {
                    mobileMenu.classList.add('hidden');
                    mobileMenuButton.querySelector('i').classList.remove('fa-times');
                    mobileMenuButton.querySelector('i').classList.add('fa-bars');
                });
            });

            // Activer les liens de navigation selon la section
            const sections = document.querySelectorAll('section');
            const navLinks = document.querySelectorAll('.nav-link');

            function setActiveLink() {
                let current = '';

                sections.forEach(section => {
                    const sectionTop = section.offsetTop;
                    if (window.pageYOffset >= sectionTop - 100) {
                        current = section.getAttribute('id');
                    }
                });

                navLinks.forEach(link => {
                    link.classList.remove('text-blue-600', 'border-b-2', 'border-blue-600');
                    link.classList.add('text-gray-500');

                    if (link.getAttribute('href') === `#${current}`) {
                        link.classList.remove('text-gray-500');
                        link.classList.add('text-blue-600', 'border-b-2', 'border-blue-600');
                    }
                });
            }

            window.addEventListener('scroll', setActiveLink);
            setActiveLink();

            // Affichage de messages après soumission du formulaire
            const urlParams = new URLSearchParams(window.location.search);
            const message = urlParams.get('message');

            if (message === 'success') {
                alert('Votre message a bien été envoyé. Merci de votre contact!');
            }
        });
    </script>
</body>
</html>
